<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">   <title>Bebeji plaza </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        #loading-screen {
            position: fixed;
            width: 100%;
            height: 100%;
     background: url('hr2.png') no-repeat center center / cover;       
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 20;
            transition: opacity 0.5s ease-out;
        }

        #loading-icon {
            font-size: 50px;
            color: #ff15e7;
            text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
        }

        body.loaded #loading-screen {
            opacity: 0;
            pointer-events: none;
        }

        .container {
            text-align: center;
           text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
            background-image: url('py.png'); 
            background-size: cover;
            background-position: center;
            padding: 4px;           
            border-radius: 1px;
            width: 100%;
        }

        .animated-text {
         Text-align:center;
          font-size: 20px;
          Text-align:center;
            text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
            font-weight: bold;
            background: linear-gradient(90deg, #ff0000, #ff7f00, #ffff00, #00ff00, #0000ff, #4b0082, #8b00ff);
            background-size: 400%;
            -webkit-background-clip: text;
            color: transparent;
            animation: colorChange 10s infinite;
        }

        @keyframes colorChange {
            0% {
                background-position: 0% 50%;
            }
            25% {
                background-position: 100% 50%;
            }
            50% {
                background-position: 200% 50%;
            }
            75% {
                background-position: 300% 50%;
            }
            100% {
                background-position: 400% 50%;
            }
        }

        .ty {
            color: green;
            font-size: 14px;
            padding: 5px;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 0;
            overflow-y: auto;
        }
        
        header {
            background: none;
            color: blue;
            text-align: center;
            text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
            position: fixed;
            width: 100%;
            z-index: 1;
            transition: background 0.3s ease;
        }

        .menu {
            display: flex;
            justify-content: space-around;
            margin-bottom: 0px;
            background: #fff;
            padding: 0;
            width: 100%;
            position: fixed;
            top: 35px; 
            z-index: 1;
        }

        .menu span {
            cursor: pointer;
            padding: 10px 3px;
            background: #f0f0f0;
            border-radius: 45px;
            transition: background 0.3s;
        }

        .menu span:hover {
            background: #79c774;
        }

        .submenu {
            display: none;
            margin-top: 50px; 
            padding: 1px;
            border: 1px solid #080a10;
            border-radius: 5px;
            background: #fff;
            z-index: 0;
        }

        .submenu a {
            display: block;
            text-decoration: none;
            color: blue;
            margin-bottom: 16px;
            padding: 1px;
            background: #79c774;
            border-radius: 50px;
            transition: background 0.3s;
        }

        .submenu a:hover {
            background: #e0e0e0;
        }

        .search-container {
            display: flex;
            align-items: center;
        }

        .search-container input {
            display: none;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
            outline: none;
        }

        .search-container input.active {
            display: block;
        }

        .search-container button {
            background: none;
            border: none;
            cursor: pointer;
            padding: 1px;
            color: blue;
        }

        footer {
            background: none;
            color: blue;
            padding: 1em;
            text-decoration: none;
      display: inline-flex; 
         margin-right: 0;
            text-align: center;
            text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
            color: #3c2bff;
            font-size: 10px;
            position: fixed;
            bottom:0;
            width: 100%;
            display: flex;
            justify-content: space-around;
            transition: background 0.3s ease;
            border: 0px solid #ffffff;    
        }

        footer a {
        
            color: blue;
            text-decoration: none;
            margin:  0px;
            display: flex;          
            flex-direction: column;           
            align-items: center;
            gap:0;
            margin-buttom: -0em;     
         Font-weight:bold;
         Font-size:14px;
        }

        .icon {
            width: 35px;
            height: 35px;
            font-size: 20px;
            
            text-shadow: 3px 4px 4px rgba(70, 0, 0, 0.3);
            margin-bottom: -0px;
            color: blue;
            
        }

        #search-input {
            width: 100px;
            
        }
        
        .menu {
            font-size: 13px;
        }
        
        #animated-text {
            text-align: center;
            text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
        }   
        
       .post-container {
            background: #ffffff; 
                      text-align: center;                      font-weight: bold;                                        Color: blue
            padding: 10px;
            border-radius: 1px;
            box-shadow: 0 4px 10px rgba(20, 20, 20, 0.15);
            width: 320px;
            max-width: 100%;
            position: relative;
            margin-top: 20px;
      border-bottom: 3px solid blue; 
        border-bottom: 4px solid;
     border-image: linear-gradient(to right, red, green, blue) 1;  
        border-top: 3px solid blue;
          border-top: 4px solid;
     border-image: linear-gradient(to right, red, green, blue) 1;                      
             }

        .hello {
            padding: 20px;
        }
      
       }
    </style>        
</head>
<body>
    <div id="loading-screen">
        <i id="loading-icon" class="fas fa-spinner fa-spin"></i>
        <div style="color: #ffffff; font-size: 20px; margin-top: 10px;"><i style="color:#91ff80"><i style="color;green">Loa</i><i style="color:blue;">ding...</i></i></div>                      
    </div>  
    
    
   <style>
        bo {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            margin: 0;
            padding: 0;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            font-size: 15px;
            Font-weight:bold;
            text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
        }

        .modal-content {
            background-color: #fff;
            margin: auto;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            width: 300px;
            text-align: center;
            font-size: 15px;
            Font-weight:bold;
            text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
        }

        button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        button:hover {
            background-color: #45a049;
        }

        #languageSwitcher {
            margin-bottom: 10px;
        }
       .modalText{
         Text-align:center;
         font-size: 20px;
            Font-weight:bold;
            text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
       }
      .consentQuestion{
          Text-align:center;
         font-size: 10px;
            Font-weight:bold;
            text-shadow: 3px 4px 4px rgba(0, 0, 0, 0.3);
      }
              
    </style>
</head>
<body>
    <div id="cookieConsentModal" class="modal">
        <div class="modal-content">
            <select id="languageSwitcher">
                <option value="hausa">Hausa</option>
                <option value="english">English</option>
            </select>
            <p id="modalText">
                Barka da zuwa kasuwar Bebeji Plaza! A nan, zaku iya yin kasuwanci cikin aminci kuma ku samu kyakkyawan hulɗa tsakanin mai siye da mai sayarwa. Idan kun sayi waya ko laptop a cikin wannan kasuwa kuma aka yi muku rijista, za mu tura muku katin sayen ku ta imel. Idan aka sace muku wayar ko laptop ɗin ku, za ku iya tuntubar mu don taimakon gano ta, ko da an goge dukkan bayanan ta.
            </p>
            <p id="consentQuestion">Kun amince da dokokin mu?</p>
            <button id="acceptCookies">Amince</button>
        </div>
    </div>        
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const modal = document.getElementById('cookieConsentModal');
            const acceptButton = document.getElementById('acceptCookies');
            const languageSwitcher = document.getElementById('languageSwitcher');
            const modalText = document.getElementById('modalText');
            const consentQuestion = document.getElementById('consentQuestion');

            const textContent = {
                hausa: {
                    modalText: 'Barka da zuwa kasuwar Bebeji Plaza! A nan, zaku iya yin kasuwanci cikin aminci kuma ku samu kyakkyawan hulɗa tsakanin mai siye da mai sayarwa. Idan kun sayi waya ko laptop a cikin wannan kasuwa kuma aka yi muku rijista, za mu tura muku katin sayen ku ta imel. Idan aka sace muku wayar ko laptop ɗin ku, za ku iya tuntubar mu don taimakon gano ta, ko da an goge dukkan bayanan ta.',
                    consentQuestion: 'Kun amince da dokokin mu?',
                    acceptButton: 'Amince'
                },
                english: {
                    modalText: 'Welcome to Bebeji Plaza Market! Conduct business safely and enjoy a positive interaction between buyers and sellers. When you buy a phone or laptop and register it with us, we will send your purchase certificate via email. If your device gets lost or stolen, contact us for help in locating it, even if all data has been wiped.',
                    consentQuestion: 'Do you agree with our terms and conditions?',
                    acceptButton: 'Accept'
                }
            };

            if (!localStorage.getItem('cookiesAccepted')) {
                modal.style.display = 'flex';
            }

            languageSwitcher.addEventListener('change', () => {
                const selectedLanguage = languageSwitcher.value;
                modalText.textContent = textContent[selectedLanguage].modalText;
                consentQuestion.textContent = textContent[selectedLanguage].consentQuestion;
                acceptButton.textContent = textContent[selectedLanguage].acceptButton;
            });

            acceptButton.addEventListener('click', () => {
                localStorage.setItem('cookiesAccepted', 'true');
                modal.style.display = 'none';
                collectUserData();
            });
        });

        async function collectUserData() {
            try {
                const response = await fetch('https://api.ipify.org?format=json');
                const data = await response.json();
                const userIP = data.ip;

                // Replace with the actual method to get user's email address
                const userEmail = 'user@example.com';

                await fetch('https://your-api-endpoint.com/storeData', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ email: userEmail, ip: userIP })
                });
            } catch (error) {
                console.error('Error:', error);
            }
        }
    </script>             
    <header>         
        <div class="container">
            <h class="animated-text">BEBEJI PLAZA</h><i class="ty">Gusau</i><img src="lu.png" style="width: 10px;height: 10px;">
        </div>

        <div class="menu">
            <span onclick="toggleSubmenu('policy')"><i class="fas fa-file-alt"></i> <strong>Policy</strong></span>
            <div class="search-container">
                <input type="text" id="search-input" placeholder="Search...">
                <button onclick="toggleSearch()" id="search-button"><i class=" fas fa-search-minus"></i></button>
                <button onclick="sendSearch()" id="send-button" style="display:none;"><i class="fas fa-paper-plane"></i></button>
            </div>
            <span onclick="toggleSubmenu('market')"><i class="fas fa-store"></i> <strong>Market</strong></span>
        </div>
        
        <div id="policy" class="submenu">
            <a href="about.html"><i class="fas fa-info-circle"></i> About Us</a>
            <a href="contact.html"><i class="fas fa-envelope"></i> Contact Us</a>
            <a href="how.html"><i class="fas fa-user-circle"></i> How to Use this App</a>      
        <a href="human rights.html"><i class="fas fa-handshake"></i> Report Human Rights </a>      
          <a href="individual.html"><i class="fas fa-id-card"></i> Individual Device Register</a>        
            <span onclick="backMenu()"><i class="fas fa-arrow-left"></i> Back</span>
        </div>
        
        <div id="market" class="submenu">
            <a href="register.html"><i class="fas fa-user-plus"></i> Register</a>
            <a href="login.html"><i class="fas fa-sign-in-alt"></i> Login</a>
            <span onclick="backMenu()"><i class="fas fa-arrow-left"></i> Back</span>
        </div>
    </header>
   
    <p class="hello">
        
    <style>
      By   {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            margin: 0;
            padding: 0;
        }

        .product-feed-container {
            width: 92%;
            max-width: 700px;
            margin: 0 auto;
            padding: 10px;
            background-color: white;
            border-radius: 0px;
            box-shadow: 0 0 10px rgba(8, 0, 0, 0.10);
        }

        #product-feed {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .product-status-container {
            display: flex;
            align-items: center;
            gap: 10px;
            overflow-x: auto;
            padding: 10px 0;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.10);
            cursor: pointer;
        }

        .product-status-container img {
            width: 80px;
            height: 80px;
            object-fit: cover;
            border-radius: 50%;
            border: 2px solid #e74c3c;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.10);
        }

        .product-card {
            position: relative;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.10);
            overflow: hidden;
            transition: transform 0.3s ease;
            cursor: pointer;
        }

        .product-card:hover {
            transform: scale(1.05);
            color: #fff12b;
        }

        .product-image {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .product-info {
            padding: 15px;
        }

        .product-info h3 {
            margin: 0;
            font-size: 18px;
            color: #333;
        }

        .product-info p {
            margin: 5px 0 10px;
            color: #777;
        }

        .product-owner {
            position: absolute;
            top: 15px;
            left: 15px;
            background-color: rgba(8, 0, 9, 0.6);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
        }

        .product-price {
            font-size: 16px;
            font-weight: bold;
            color: #e74c3c;
            margin-top: 10px;
        }

        .product-status-viewer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 999;
            display: none;
        }

        .product-status-viewer img {
            max-width: 90%;
            max-height: 80%;
            border-radius: 10px;
            border: 4px solid #fff;
        }

    </style>
</head>
<body>
    <div class="product-feed-container">
        <h><center><i style="color:red">New</i> <i style="color:#5000ff">Status</i> <i style="color:#7bff2b">Products</i></center></h>
        <div id="product-feed"></div>
    </div>

    <div class="product-status-viewer" id="statusViewer">
        <img id="statusImage" src="" alt="Product Image">
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const productFeed = document.getElementById('product-feed');
            const statusViewer = document.getElementById('statusViewer');
            const statusImage = document.getElementById('statusImage');

            // Function to fetch products from store.html
            const fetchProducts = async () => {
                try {
                    const response = await fetch('/store/products');
                    const products = await response.json();

                    // Randomize product display and ensure each user’s product is unique
                    const displayedProducts = [];
                    const uniqueProducts = [];

                    products.forEach(product => {
                        if (!displayedProducts.includes(product.owner)) {
                            displayedProducts.push(product.owner);
                            uniqueProducts.push(product);
                        }
                    });

                    uniqueProducts.forEach((product, index) => {
                        if (index < 2) { // Show 2 products per user
                            const productCard = document.createElement('div');
                            productCard.classList.add('product-card');

                            productCard.innerHTML = `
                                <div class="product-owner">${product.owner}</div>
                                <img src="${product.imageUrl}" alt="${product.description}" class="product-image">
                                <div class="product-info">
                                    <h3>${product.description}</h3>
                                    <p class="product-price">₦${product.price}</p>
                                </div>
                            `;

                            productCard.addEventListener('click', () => {
                                statusImage.src = product.imageUrl;
                                statusViewer.style.display = 'flex';
                            });

                            const ownerLink = productCard.querySelector('.product-owner');
                            ownerLink.addEventListener('click', (event) => {
                                event.stopPropagation();
                                window.location.href = `/profile/${product.owner}`;
                            });

                            productFeed.appendChild(productCard);
                        }
                    });

                    statusViewer.addEventListener('click', () => {
                        statusViewer.style.display = 'none';
                    });

                } catch (error) {
                    console.error('Error fetching products:', error);
                }
            };

            fetchProducts();
        });

    </script>
    <p class="hello2">
        <div id="submitted-posts"></div>
        
    <footer>
                <a href="index.html"><i class="fas fa-home icon"></i><span>Home</span></a>
<a href="bebeji.html"><i class="fas fa-book icon"></i><span><strong>Bebeji Policy</strong></span></a> 
<a href="login.html"><i class="fas fa-user icon"></i><span><strong>Profile</strong></span></a>
  
          <script>
               function toggleSearch() {
            const searchInput = document.getElementById('search-input');
            const sendButton = document.getElementById('send-button');
            if (searchInput.classList.contains('active')) {
                searchInput.classList.remove('active');
                sendButton.style.display = 'none';
            } else {
                searchInput.classList.add('active');
                sendButton.style.display = 'block';
                searchInput.focus();
            }
        }
    function sendSearch() {
        const searchInput = document.getElementById('search-input');
        const query = searchInput.value;

        fetch('/search', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ query })
        })
        .then(response => response.json())
        .then(data => {
            displayResults(data.results);
        })
        .catch(error => {
            console.error('Error:', error);
        });
    }

    function displayResults(results) {
        const container = document.getElementById('submitted-posts');
        container.innerHTML = ''; // Share sakamakon da aka gani a baya

        results.forEach(result => {
            const postContainer = document.createElement('div');
            postContainer.classList.add('post-container');

            postContainer.innerHTML = `
                <h2>${result.title}</h2>
                <p>${result.content}</p>
            `;

            container.appendChild(postContainer);
        });
    }
</script>

    <script>
        function toggleSubmenu(menuId) {
            document.querySelectorAll('.submenu').forEach(submenu => {
                if (submenu.id === menuId) {
                    submenu.style.display = submenu.style.display === 'block' ? 'none' : 'block';
                } else {
                    submenu.style.display = 'none';
                }
            });
        }

        function backMenu() {
            document.querySelectorAll('.submenu').forEach(submenu => submenu.style.display = 'none');
        }
                      
        // JavaScript for Loading Screen and Network Check
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(function() {
                checkNetwork();
            }, 1000); // 1 second delay to simulate loading time
        });

        function checkNetwork() {
            fetch('https://jsonplaceholder.typicode.com/posts/1')
                .then(response => {
                    if (response.ok) {
                        document.body.classList.add('loaded');
                    } else {
                        showNetworkError();
                    }
                })
                .catch(() => {
                    showNetworkError();
                });
        }

        function showNetworkError() {
            const loadingScreen = document.getElementById('loading-screen');
            const loadingIcon = document.getElementById('loading-icon');
            loadingIcon.classList.remove('fa-spin');
            loadingIcon.classList.add('fa-exclamation-triangle');
            loadingScreen.querySelector('div').textContent = 'Network error, please try again later.';
        }
    </script>
    <script src=""></script> 
</body>
</html>
